# 东博哥博客迁移指南

## 🚀 快速迁移

我已经为你的博客 `https://www.dongboge.cn` 定制了迁移脚本，现在可以一键迁移！

### 方法一：完整迁移（推荐）

```bash
# 1. 安装依赖（如果还没安装）
npm install

# 2. 运行迁移脚本
npm run migrate
```

这个脚本会：

- 自动获取你博客的所有文章
- 转换 HTML 为 Markdown 格式
- 保留文章的标题、描述、发布日期、标签等信息
- 支持分页获取，确保不遗漏任何文章
- 自动处理中文文件名

### 方法二：示例文章（备用方案）

如果网络有问题或 REST API 不可用，可以先运行：

```bash
npm run migrate:sample
```

这会创建 2 篇基于你博客风格的示例文章，让你先看看效果。

## 📁 迁移结果

迁移完成后，文章会保存在 `src/content/blog/` 目录下，格式如下：

```markdown
---
title: "文章标题"
description: "文章描述"
pubDate: "Dec 15 2024"
tags: ["标签1", "标签2"]
heroImage: "图片URL"
---

文章内容...
```

## 🔧 脚本特性

### 智能处理

- **中文支持**：完美处理中文标题和内容
- **文件名清理**：自动处理特殊字符，生成合法的文件名
- **分页获取**：支持大量文章的分批获取
- **错误处理**：详细的错误信息和重试机制

### 内容转换

- **HTML → Markdown**：自动转换文章格式
- **图片保留**：保持原有的图片链接
- **标签提取**：自动提取分类和标签信息
- **摘要生成**：智能生成文章描述

### 安全特性

- **重复检测**：避免覆盖已存在的文件
- **数据验证**：确保转换后的数据完整性
- **本地处理**：所有转换在本地完成，保护数据安全

## 📊 运行示例

```bash
$ npm run migrate

🚀 开始从 dongboge.cn 迁移 WordPress 文章...
目标目录: ./src/content/blog
正在获取 WordPress 文章...
正在获取第 1 页...
正在获取第 2 页...
总共找到 25 篇文章

📝 开始转换文章...
✅ [1/25] AI时代的企业数字化转型 → AI时代的企业数字化转型.md
✅ [2/25] Dify平台实战指南 → Dify平台实战指南.md
...

==================================================
📊 迁移完成统计:
✅ 成功: 25 篇
❌ 失败: 0 篇
📁 保存位置: ./src/content/blog

🎉 迁移成功！你可以运行以下命令查看结果:
npm run dev
```

## 🛠 故障排除

### 如果迁移失败

1. **检查网络连接**

   ```bash
   curl https://www.dongboge.cn/wp-json/wp/v2/posts?per_page=1
   ```

2. **运行示例版本**

   ```bash
   npm run migrate:sample
   ```

3. **查看详细错误**
   脚本会显示具体的错误信息，帮助诊断问题

### 常见问题

**Q: 文章内容格式有问题？**
A: 可以手动编辑生成的 Markdown 文件，调整格式

**Q: 图片无法显示？**
A: 图片链接指向原 WordPress 站点，确保原站点可访问

**Q: 想要重新迁移？**
A: 删除 `src/content/blog/` 下的文件，重新运行脚本

## 🎯 下一步

迁移完成后：

1. **预览效果**

   ```bash
   npm run dev
   ```

2. **检查文章**

   - 访问 http://localhost:4321
   - 查看博客列表和文章详情
   - 确认格式和内容正确

3. **自定义调整**

   - 编辑文章内容
   - 调整标签分类
   - 优化 SEO 信息

4. **部署上线**
   ```bash
   npm run build
   ```

## 💡 提示

- 迁移过程中会自动添加延迟，避免对原站点造成压力
- 所有文章都会保留原有的发布时间和更新时间
- 支持增量迁移，不会重复处理已存在的文章

现在就开始迁移你的博客吧！🚀
